---
import Layout from "../layouts/Layout.astro";
import Copyright from "../components/Copyright.astro";
import MainContent from "../components/MainContent.astro";
// import data from "../lib/data.json";
// import Header from "../components/Header.astro";
// import HeaderList from "../components/HeaderList";
// const { contents } = data;
const data = await Astro.glob("./*.md");
const contents = data.map(({ frontmatter }) => frontmatter);
---

<Layout title="YAAD.inc">
  <!-- <Header>
    <HeaderList client:load contents={contents} />
  </Header> -->
  <main>
    {
      contents.map(({ id, title, category, release, img, video }, index) => {
        return (
          <MainContent
            id={id}
            index={index}
            title={title}
            category={category}
            release={release}
            img={img}
            video={video}
          />
        );
      })
    }
  </main>
  <footer>
    <div class="scroll">
      <span class="scroll__bar"></span>
    </div>
    <Copyright />
  </footer>
</Layout>

<style>
  main {
    padding: 4rem 0;
    max-width: 100%;
  }
  footer {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    display: flex;
    justify-content: space-between;
  }
  .scroll {
    background-color: rgba(255, 255, 255, 0.5);
    width: 0.2rem;
    height: 1.8rem;
    position: relative;
  }
  .scroll__bar {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 0.4rem;
    background-color: #fff;
    animation: scroll 2s linear infinite;
  }
  @keyframes scroll {
    0% {
      top: 0;
    }
    100% {
      top: 1.4rem;
    }
  }
</style>
